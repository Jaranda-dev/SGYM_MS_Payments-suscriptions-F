<div class="modal-form">
  <h2>Crear Suscripción</h2>

  <form [formGroup]="form" (ngSubmit)="submit()">

    <div class="form-group">
      <label for="userId">Usuario</label>
      <select id="userId" formControlName="userId">
        <option value="" disabled>Seleccione un usuario</option>
        <option *ngFor="let user of users" [value]="user.id">{{ user.email }}</option>
      </select>
      <div *ngIf="form.get('userId')?.invalid && form.get('userId')?.touched" class="error">
        Usuario requerido
      </div>
    </div>

 <div class="form-group">
      <label for="membershipId">Membresía</label>
      <select id="membershipId" formControlName="membershipId">
        <option value="" disabled>Seleccione una membresía</option>
        <option *ngFor="let membership of memberships" [value]="membership.id">{{ membership.name }}</option>
      </select>
      <div *ngIf="form.get('membershipId')?.invalid && form.get('membershipId')?.touched" class="error">
        Membresía requerida
      </div>
    </div>

    <div class="form-group">
      <label for="paymentMethodId">Método de Pago</label>
      <select id="paymentMethodId" formControlName="paymentMethodId">
        <option value="" disabled>Seleccione un método de pago</option>
        <option *ngFor="let paymentMethod of paymentMethods" [value]="paymentMethod.id">{{ paymentMethod.name }}</option>
      </select>
      <div *ngIf="form.get('paymentMethodId')?.invalid && form.get('paymentMethodId')?.touched" class="error">
        Método de pago requerido
      </div>
    </div>

    <div class="form-buttons">
      <button type="button" class="btn-cancel" (click)="handleCancel()">Cancelar</button>
      <button type="submit" class="btn-submit" [disabled]="form.invalid">Crear</button>
    </div>
  </form>

  <div *ngIf="errorMessage" class="error">
    {{ errorMessage }}
  </div>
</div>
